######BUTTONS######

<MinusButton@Button>
    background_color: [1, 0, 0, 1]

<PlusButton@Button>
    background_color: [0, 1, 0, 1]

<TemperatureLabel@Label>:
    font_size: 20
    halign: 'center'
    valign: 'middle'

<SetTemperature@TextInput>:
    multiline:False
    font_size: 20
    halign: 'center'
    valign: 'middle'
    
<EmptyLabel@Label>:
    font_size: 20
    halign: 'center'
    valign: 'middle'

<StandardLabel@Label>:
    font_size: 20
    halign: 'center'
    valign: 'middle'

<Title@Label>:
    font_size: 30
    halign: 'left'
    valign: 'middle'

<MotorOutput@Label>
    font_size: 30
    halign: 'center'
    valign: 'middle'

<FanOutput@Label>
    font_size: 30
    halign: 'center'
    valign: 'middle'

<MainLayout>:
    BoxLayout:
        orientation: "vertical"
        
        #Temperatures Section
        BoxLayout:
            orientation: "vertical"
            canvas:
                Color:
                    rgb: 0.5, 0.5, 0.5, 1
                Rectangle:
                    pos: self.pos
                    size: self.size

            Title:
                text: "Temperature"

            BoxLayout:
                orientation: 'horizontal'

                TemperatureLabel:
                    size_hint: (0.45, 1)
                    text: "Target Temperature"
    
                BoxLayout:
                    orientation: 'vertical'
                    
                    BoxLayout:
                        orientation: "horizontal"

                        MinusButton:
                            text: "-"
                            on_press: targtemp_slider.value -= 0.1

                        StandardLabel:
        #                    on_text_validate:
                            id: targtemp
                            text: str(targtemp_slider.value_normalized)
                            text: str(targtemp_slider.value)

                        PlusButton:
                            text: "+"
                            on_press: targtemp_slider.value += 0.1
                    Slider:
                        min: 25
                        max: 35
                        value_normalized: 0.5
                        step: 0.01
                        id: targtemp_slider
                        on_touch_move: root.motor_output()
                        on_touch_up: root.motor_output()
            
            #System Temperature Row
            
            BoxLayout:
                orientation: 'horizontal'

                TemperatureLabel:
                    size_hint: (0.45, 1)
                    text: "Current Temperature"
                    
                BoxLayout:
                    orientation: 'vertical'
                    
                    BoxLayout:
                        orientation: "horizontal"

                        MinusButton:
                            text: "-"
                            on_press: systemp_slider.value -= 0.1

                        StandardLabel:
                            id: systemp
                            text: str(systemp_slider.value_normalized)
                            text: str(systemp_slider.value)

                        PlusButton:
                            text: "+"
                            on_press: systemp_slider.value += 0.1

                    Slider:
                        min: 25
                        max: 45
                        value_normalized: 0.5
                        step: 0.01
                        id: systemp_slider
                        on_touch_move: root.motor_output()
                        on_touch_up: root.motor_output()
           
        BoxLayout:
            orientation: 'vertical'

            Title:
                text: "Controller Output"
                halign: "left"

            GridLayout:
                cols: 2
                MotorOutput:
                    text: "Motor Power"
                FanOutput:
                    text: "Fan Power"
                MotorOutput:
                    text: ''
                    id: motorout
                FanOutput:
#                    text: str(root.motorandfan_output)
                    id: fanout
            BoxLayout:
                orientation: "horizontal"

                ProgressBar:
                    id: motorbar
                ProgressBar:
                    id: fanbar
                